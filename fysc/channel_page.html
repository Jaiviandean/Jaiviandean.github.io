<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FYSC Channel Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        header {
            background-color: #333;
            color: white;
            padding: 10px 0;
            text-align: center;
        }
        .logo img {
            vertical-align: middle;
        }
        main {
            padding: 20px;
        }
        .section {
            background-color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 4px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .channel-info {
            background-color: #f4f4f4;
            padding: 20px;
            border-radius: 4px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        .channel-info h2 {
            margin-top: 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="fysc.png" width="178px" height="38px">
        </div>
    </header>
    <main>
        <div class="section">
            <div class="channel-info">
                <h2 id="channel-name"></h2>
                <p id="channel-description"></p>
            </div>
            <h2>Your Published Videos</h2>
            <div id="published-video-list"></div>
        </div>
    </main>

    <script>
        let currentUser = null;

        function updateUI() {
            const channelName = document.getElementById('channel-name');
            const channelDescription = document.getElementById('channel-description');
            const publishedVideoList = document.getElementById('published-video-list');

            if (currentUser) {
                channelName.textContent = currentUser.channelName;
                channelDescription.textContent = currentUser.channelDescription;
                displayPublishedVideos();
            }
        }

        function displayPublishedVideos() {
            const publishedVideoList = document.getElementById('published-video-list');
            publishedVideoList.innerHTML = '';

            currentUser.videos.forEach((video, index) => {
                const videoItem = document.createElement('div');
                videoItem.classList.add('video-item');
                videoItem.innerHTML = `
                    <img src="${video.thumbnail}" alt="Thumbnail">
                    <h3>${video.title}</h3>
                    <button class="video-btn" onclick="viewStats(${index})">View Stats</button>
                    <button class="delete-btn" onclick="deleteVideo(${index})">Delete</button>
                `;
                publishedVideoList.appendChild(videoItem);
            });
        }

        function viewStats(videoIndex) {
            const video = currentUser.videos[videoIndex];
            const statsModal = document.getElementById('viewStatsModal');
            const statsThumbnail = document.getElementById('stats-thumbnail');
            const statsTitle = document.getElementById('stats-title');
            const statsDescription = document.getElementById('stats-description');
            const statsData = document.getElementById('stats-data');

            statsThumbnail.src = video.thumbnail;
            statsTitle.textContent = video.title;
            statsDescription.textContent = video.description;
            statsData.innerHTML = `
                <p>Views: ${video.stats.views}</p>
                <p>Likes: ${video.stats.likes}</p>
                <p>Comments: ${video.stats.comments}</p>
                <p>Shares: ${video.stats.shares}</p>
            `;

            statsModal.style.display = 'block';
        }

        function deleteVideo(videoIndex) {
            currentUser.videos.splice(videoIndex, 1);
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            displayPublishedVideos(); // Refresh the video list after deletion
        }

        window.onload = function () {
            const storedUser = JSON.parse(localStorage.getItem('currentUser'));
            if (storedUser) {
                currentUser = storedUser;
            }
            updateUI();
        };
    </script>
</body>
</html>
